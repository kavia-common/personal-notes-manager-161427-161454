{"is_source_file": true, "format": "TypeScript", "description": "This file defines an API client for a notes application, including types for notes and authentication responses, functions for user login, signup, profile retrieval, and CRUD operations for notes. It centralizes API interactions, manages authentication tokens, and provides wrappers for backend endpoints.", "external_files": ["process", -4], "external_methods": ["fetch", "fetch", "fetch", "fetch", "fetch", "fetch"], "published": ["Note", "AuthResponse", "login", "signup", "logout", "getProfile", "fetchNotes", "createNote", "updateNote", "deleteNote"], "classes": [], "methods": [{"name": "function buildHeaders() { buildHeaders", "description": "Builds request headers, including Authorization if token is available.", "scope": "", "scopeKind": ""}, {"name": "async function handleResponse<T>(res: Response): Promise<T> { handleResponse", "description": "Handles API responses, throws errors for non-OK responses, parses JSON body.", "scope": "", "scopeKind": ""}, {"name": "export async function login(email: string, password: string): Promise<AuthResponse> { login", "description": "Performs user login, stores token in localStorage.", "scope": "", "scopeKind": ""}, {"name": "export async function signup(email: string, password: string): Promise<AuthResponse> { signup", "description": "Performs user signup, stores token in localStorage.", "scope": "", "scopeKind": ""}, {"name": "export function logout(): void { logout", "description": "Removes authentication token from localStorage.", "scope": "", "scopeKind": ""}, {"name": "export async function getProfile(): Promise<{ id: string; email: string } | null> { getProfile", "description": "Fetches current user profile if authenticated.", "scope": "", "scopeKind": ""}, {"name": "export async function fetchNotes(query?: string): Promise<Note[]> { fetchNotes", "description": "Retrieves list of notes, optionally filtered by search query.", "scope": "", "scopeKind": ""}, {"name": "export async function createNote(payload: { title: string; content: string }): Promise<Note> { createNote", "description": "Creates a new note with specified title and content.", "scope": "", "scopeKind": ""}, {"name": "export async function updateNote(id: string, payload: { title: string; content: string }): Promi/ updateNote", "description": "Updates an existing note by ID.", "scope": "", "scopeKind": ""}, {"name": "export async function deleteNote(id: string): Promise<void> { deleteNote", "description": "Deletes a note by ID.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "fetch", "fetch", "fetch", "fetch", "fetch"], "search-terms": ["notes_backend_api", "auth_token_management", "Note", "CRUD_operations", "TypeScript API wrapper"], "state": 2, "file_id": 11, "knowledge_revision": 23, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^const API_BASE_URL =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "AuthResponse", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export type AuthResponse = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "Note", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export type Note = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "buildHeaders", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^function buildHeaders() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export async function createNote(payload: { title: string; content: string }): Promise<Note> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^      const data = await res.json();$/", "language": "TypeScript", "kind": "constant", "scope": "handleResponse", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const data = await handleResponse<AuthResponse>(res);$/", "language": "TypeScript", "kind": "constant", "scope": "login", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const data = await handleResponse<AuthResponse>(res);$/", "language": "TypeScript", "kind": "constant", "scope": "signup", "scopeKind": "function"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export async function deleteNote(id: string): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "fetchNotes", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export async function fetchNotes(query?: string): Promise<Note[]> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getProfile", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export async function getProfile(): Promise<{ id: string; email: string } | null> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "handleResponse", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^async function handleResponse<T>(res: Response): Promise<T> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const headers: HeadersInit = {$/", "language": "TypeScript", "kind": "constant", "scope": "buildHeaders", "scopeKind": "function"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export async function login(email: string, password: string): Promise<AuthResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export function logout(): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^    const res = await fetch(`${API_BASE_URL}\\/auth\\/me`, {$/", "language": "TypeScript", "kind": "constant", "scope": "getProfile", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE_URL}\\/auth\\/login`, {$/", "language": "TypeScript", "kind": "constant", "scope": "login", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE_URL}\\/auth\\/signup`, {$/", "language": "TypeScript", "kind": "constant", "scope": "signup", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE_URL}\\/notes\\/${encodeURIComponent(id)}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "deleteNote", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE_URL}\\/notes\\/${encodeURIComponent(id)}`, {$/", "language": "TypeScript", "kind": "constant", "scope": "updateNote", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(`${API_BASE_URL}\\/notes`, {$/", "language": "TypeScript", "kind": "constant", "scope": "createNote", "scopeKind": "function"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const res = await fetch(url.toString(), {$/", "language": "TypeScript", "kind": "constant", "scope": "fetchNotes", "scopeKind": "function"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export async function signup(email: string, password: string): Promise<AuthResponse> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const token =$/", "language": "TypeScript", "kind": "constant", "scope": "buildHeaders", "scopeKind": "function"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^export async function updateNote(id: string, payload: { title: string; content: string }): Promi/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-161427-161454/notes_frontend/src/lib/api.ts", "pattern": "/^  const url = new URL(`${API_BASE_URL}\\/notes`);$/", "language": "TypeScript", "kind": "constant", "scope": "fetchNotes", "scopeKind": "function"}], "hash": "53a4ba1a49fb9880d90abb88a9458fef", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/api.ts", "revision_history": [{"23": ""}]}